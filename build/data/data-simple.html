<!-- Front of card ===========================================================

    Simple Card Data

    - Type:
        What's the answer?
        A simple `question->answer` card;
        we're asking the question: "what does this code do?", e.g:

        - A function with an output you have to guess
        - A class with a method that you need to call

    - Docs:
        @ http://tinyurl.com/anki-simple-card

    - Key:
        â˜… Required
        â˜† Optional (recommended)
        âœŽ Optional (notes, markdown)
        â¤· Field Type

    - Notes:
        Where fields are auto-wrapped with an HTML tag, copy/paste the compiled
        data _within_ those tags in your Anki fields, otherwise you'll have
        formatting issues. For example:

            `â˜… Title` field:

            <h1>What happens is we type <code>Model</code> in the repl?</h1>
            xxxx-------------------------------------------------------xxxxx

        Compiled data is simply meant to speed up the card creation process â€”
        it's not meant to be viewed in the browser. Best viewed in a text editor
        (such as Visual Studio Code) to copy/paste your Anki card fields.

========================================================================== -->
<!-- -------------------------------------------------------------------------
    â˜… Title

    â¤· `string` (auto wrapped with a `H1` tag)
-------------------------------------------------------------------------- -->
<h1>Why is the <code>Maybe Feed</code> here bad practice? How could it
be improved?</h1>
<!-- -------------------------------------------------------------------------
    â˜† Subtitle

    â¤· `string` (auto wrapped with a `H2` tag)
-------------------------------------------------------------------------- -->
<h2>Maybe</h2>
<!-- -------------------------------------------------------------------------
    â˜† Syntax (inline code)

    â¤· `code string` (auto wrapped with `<p><code>` tag)

    This is NOT a `code block` field! It's for short lines of code only.
-------------------------------------------------------------------------- -->
<p><code>type alias Feed = List Photo</code></p>
<!-- -------------------------------------------------------------------------
    â˜… Sample (code block)

    â¤· `pre block`

      | Requires `markdown` fenced code block;

      A markdown fenced code block that will compile to our highlighted
      code with Pandoc. What does this code do?
-------------------------------------------------------------------------- -->
<div class="sourceCode" id="cb1"><pre
class="sourceCode elm"><code class="sourceCode elm"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">photo</span> : <span class="dt">Photo</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">photo</span> <span class="op">=</span> <span class="dt">Photo</span> <span class="dv">1</span> <span class="st">&quot;1.jpg&quot;</span> <span class="dt">False</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">init</span> : <span class="dt">Model</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">init</span> <span class="op">=</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  { <span class="fu">feed</span> <span class="op">=</span> <span class="dt">Just</span> [ <span class="fu">photo</span> ] }</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">toggleLiked</span> : <span class="dt">Photo</span> <span class="op">-&gt;</span> <span class="dt">Photo</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">toggleLiked</span> <span class="fu">photo</span> <span class="op">=</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  { <span class="fu">photo</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">|</span> <span class="fu">liked</span> <span class="op">=</span> <span class="fu">not</span> <span class="fu">photo</span><span class="op">.</span><span class="fu">liked</span> }</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">updateFeed</span> : (<span class="dt">Photo</span> <span class="op">-&gt;</span> <span class="dt">Photo</span>) <span class="op">-&gt;</span> <span class="dt">Id</span> <span class="op">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Feed</span> <span class="op">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Feed</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">updateFeed</span> <span class="fu">fn</span> <span class="fu">id</span> <span class="fu">maybeFeed</span> <span class="op">=</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Maybe</span><span class="op">.</span><span class="fu">map</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">updatePhotoByID</span> <span class="fu">fn</span> <span class="fu">id</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">maybeFeed</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">updatePhotoByID</span> : (<span class="dt">Photo</span> <span class="op">-&gt;</span> <span class="dt">Photo</span>) <span class="op">-&gt;</span> <span class="dt">Int</span> <span class="op">-&gt;</span> <span class="dt">Feed</span> <span class="op">-&gt;</span> <span class="dt">Feed</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">updatePhotoByID</span> <span class="fu">fn</span> <span class="fu">id</span> <span class="fu">feed</span> <span class="op">=</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="dt">List</span><span class="op">.</span><span class="fu">map</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    (\<span class="fu">photo</span> <span class="op">-&gt;</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> <span class="fu">photo</span><span class="op">.</span><span class="fu">id</span> <span class="op">==</span> <span class="fu">id</span> <span class="cf">then</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">fn</span> <span class="fu">photo</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        <span class="fu">photo</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">feed</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="fu">update</span> : <span class="dt">Msg</span> <span class="op">-&gt;</span> <span class="dt">Model</span> <span class="op">-&gt;</span> <span class="dt">Model</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="fu">update</span> <span class="fu">msg</span> <span class="fu">model</span> <span class="op">=</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>  <span class="cf">case</span> <span class="fu">msg</span> <span class="cf">of</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Liked</span> <span class="fu">id</span> <span class="op">-&gt;</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>      { <span class="fu">model</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>        <span class="op">|</span> <span class="fu">feed</span> <span class="op">=</span> <span class="fu">updateFeed</span> <span class="fu">toggleLiked</span> <span class="fu">id</span> <span class="fu">model</span><span class="op">.</span><span class="fu">feed</span> }</span></code></pre></div>
<pre class="terminal"><code>&gt;&gt; update (Liked 1) init
{ feed = Just [{ id = 1, liked = True, url = &quot;1.jpg&quot; }] }
&gt;&gt; update (Liked 1) { feed = Nothing }
{ feed = Nothing }</code></pre>
<!-- -------------------------------------------------------------------------
    â˜† Sample (caption or hint)

    â¤· `string` (auto wrapped with a `<figcaption>` tag â€”Â doesn't need `<p>` tag)

    Helpful for when the header question grows too long, or the Sample
    requires some context or a hint. Alternative to code comments.
-------------------------------------------------------------------------- -->
<p>Our <code>Maybe Feed</code> is pulled in from an external API</p>
<!-- Back of card ======================================================== -->
<!-- -------------------------------------------------------------------------
    â˜… Key point (code block)

    â¤· `pre block`

      | Requires `markdown` fenced code block;

      A markdown fenced code block that will compile to our highlighted
      code with Pandoc. The output or answer to the above question.
-------------------------------------------------------------------------- -->
<div class="sourceCode" id="cb3"><pre
class="sourceCode elm"><code class="sourceCode elm"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">type</span> <span class="dt">Status</span> <span class="fu">a</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">=</span> <span class="dt">Loading</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">|</span> <span class="dt">Loaded</span> <span class="fu">a</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">{- Similar to `Maybe.map` -}</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">statusMap</span> : (<span class="fu">a</span> <span class="op">-&gt;</span> <span class="fu">a</span>) <span class="op">-&gt;</span> <span class="dt">Status</span> <span class="fu">a</span> <span class="op">-&gt;</span> <span class="dt">Status</span> <span class="fu">a</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">statusMap</span> <span class="fu">fn</span> <span class="fu">status</span> <span class="op">=</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">case</span> <span class="fu">status</span> <span class="cf">of</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Loaded</span> <span class="fu">a</span> <span class="op">-&gt;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>      <span class="dt">Loaded</span> (<span class="fu">fn</span> <span class="fu">a</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Loading</span> <span class="op">-&gt;</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>      <span class="dt">Loading</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co">{- Use unwrapped value for `Msg` -}</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span> : <span class="dt">Model</span> <span class="op">-&gt;</span> <span class="dt">Html</span> <span class="dt">Msg</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span> <span class="fu">model</span> <span class="op">=</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">case</span> <span class="fu">model</span><span class="op">.</span><span class="fu">feed</span> <span class="cf">of</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Loading</span> <span class="op">-&gt;</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">text</span> <span class="st">&quot;Do nothing&quot;</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Loaded</span> <span class="fu">a</span> <span class="op">-&gt;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">a</span> [ <span class="fu">onClick</span> (<span class="dt">Lifted</span> <span class="fu">a</span>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>        <span class="op">,</span> <span class="dt">Attr</span><span class="op">.</span><span class="fu">href</span> <span class="st">&quot;/path&quot;</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>        [ <span class="st">&quot;ðŸŽ¤ We could be lifted&quot;</span> ]</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="co">{- Within the `Msg` branch, we can</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="co">use the value, then re-wrap it! -}</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="fu">update</span> : <span class="dt">Msg</span> <span class="op">-&gt;</span> <span class="dt">Model</span> <span class="op">-&gt;</span> (<span class="dt">Model</span><span class="op">,</span> <span class="dt">Cmd</span> <span class="dt">Msg</span>)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="fu">update</span> <span class="fu">msg</span> <span class="fu">model</span> <span class="op">=</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="cf">case</span> <span class="fu">model</span> <span class="cf">of</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    <span class="dt">Lifted</span> <span class="fu">a</span> <span class="op">-&gt;</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>      { <span class="fu">model</span> <span class="op">|</span> <span class="fu">feed</span> <span class="op">=</span> <span class="dt">Loaded</span> <span class="fu">a</span> }</span></code></pre></div>
<!-- -------------------------------------------------------------------------
    â˜… Key point notes

    â¤· `rich html`
-------------------------------------------------------------------------- -->
<blockquote>
<p><strong><code>Maybe Feed</code> doesnâ€™t describe our situation
well!</strong> With <code>Status a</code> we can tell that (a) itâ€™s an
API, and (b) has it been loaded yet?</p>
</blockquote>
<p>Itâ€™s better to use the <code>Maybe</code> type for <em>optional</em>
record values (e.g: weâ€™ve got a missing <code>photo.url</code>).
Remember to never use a <code>Loaded (Maybe List Photo)</code> structure
as <code>[]</code> can be used instead of <code>Nothing</code>.</p>
<p>The <code>Maybe.map</code> function is very handy when itâ€™s
needed.</p>
<!-- -------------------------------------------------------------------------
    âœŽ Other notes

    â¤· `rich html`
-------------------------------------------------------------------------- -->
<p><code>statusLift : Status a -&gt; a</code> (a lifting function) wonâ€™t
work here, because we need to return the same type for each branch (we
canâ€™t return <code>a</code> for the <code>Loading</code> branch!). A
<code>Result Error a</code> could potentially work in that scenario.</p>
<!-- -------------------------------------------------------------------------
    âœŽ Markdown

    â¤· `raw text`

      Do not add the compiled HTML to your card, rather, use the raw text
      Markdown fenced code block. This makes for easier editing of a card
      later on.

      Warning: may increase card file size
        @ https://github.com/badlydrawnrob/anki/issues/116
-------------------------------------------------------------------------- -->
<p>false</p>
